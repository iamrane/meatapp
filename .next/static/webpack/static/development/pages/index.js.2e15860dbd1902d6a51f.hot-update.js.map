{"version":3,"file":"static/webpack/static/development/pages/index.js.2e15860dbd1902d6a51f.hot-update.js","sources":["webpack:///./components/SearchResult.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useField } from 'formik';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport uniqBy from 'lodash/uniqBy';\nimport isEmpty from 'lodash/isEmpty';\nimport { getMeatsQuery } from 'gql';\nimport SearchResultItem from 'components/SearchResultItem';\n\nconst variants = {\n\tinitial: {},\n\treveal: {\n\t\ttransition: { staggerChildren: 0.05 },\n\t},\n};\n\nconst SearchResult = props => {\n\tconst [field, meta] = useField('searchString');\n\tconst { value: meatName } = meta;\n\tconst { data, loading } = useQuery(getMeatsQuery);\n\tconsole.log('data', data);\n\tif (meatName.length < 3 || loading) {\n\t\treturn null;\n\t}\n\n\tconst { allMeats = [] } = data;\n\tconst filterName = data.allMeats.filter(meat => meat.meatName.toLowerCase().includes(meatName.toLowerCase()));\n\tconst filterTags = data.allMeats.filter(meat => meat.tags.toLowerCase().includes(meatName.toLowerCase()));\n\tconst result = uniqBy([...filterName, ...filterTags], 'meatName');\n\n\tif (isEmpty(result)) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<motion.div variants={variants} initial=\"initial\" animate=\"reveal\">\n\t\t\t{result.map(meat => {\n\t\t\t\treturn <SearchResultItem key={meat.id} {...meat} />;\n\t\t\t})}\n\t\t</motion.div>\n\t);\n};\n\nSearchResult.propTypes = {};\n\nexport default SearchResult;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AADA;AAFA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AARA;AAAA;AAUA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAEA;;;;A","sourceRoot":""}